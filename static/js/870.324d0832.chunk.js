"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[870],{3870:function(e,r,n){n.r(r),n.d(r,{default:function(){return E}});var s="OurFriendsPage_container__x4Ema",t="OurFriendsPage_title__EeYef",a=n(9439),i=n(2791),c=n(8402),l=n(4724),u={menu:"WorkingDaysMenu_menu__P6fRn",item:"WorkingDaysMenu_item__vybMs"},d=n(184),o=function(e){var r=e.onClose,n=e.daysList,s=e.workdays;return(0,i.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&r()}))})),(0,d.jsx)("div",{className:u.overlay,onClick:function(e){e.target!==e.currentTarget&&r()},children:(0,d.jsx)("ul",{className:u.menu,children:n.map((function(e,r){return(0,d.jsx)("li",{className:u.item,children:s[r].isOpen?"".concat(e," ").concat(s[r].from,"-").concat(s[r].to):"".concat(e," is closed")},r)}))})})},m="OurFriendsItem_item__g1xKl",h="OurFriendsItem_container__k7jX-",p="OurFriendsItem_textContainer__uyVlu",_="OurFriendsItem_text__3y2Eb",f="OurFriendsItem_adressLink__TDmct",x="OurFriendsItem_title__BrbUk",j="OurFriendsItem_titleLink__SfajN",v="OurFriendsItem_imageContainer__Q3lZ7",g="OurFriendsItem_image__Hi6dq",N="OurFriendsItem_empty__-QOO8",O="OurFriendsItem_isOpen__piJMx",k="OurFriendsItem_link__H0pdL",w="OurFriendsItem_statusOpened__15PPH",y="OurFriendsItem_statusClosed__daLBM",F="OurFriendsItem_textTimeActive__w7LOE",b="OurFriendsItem_textTime__SSFzY",I=function(e){var r=e.id,n=e.title,s=e.adressUrl,t=e.adress,c=e.email,l=e.phone,u=e.image,I=e.workdays,Z=void 0===I?[]:I,C=e.url,E=(0,i.useState)(!1),L=(0,a.Z)(E,2),S=L[0],P=L[1],T=function(e){P(!S)},U=new Date,D="";D=0===U.getDay()?6:U.getDay()-1;var A=U.getHours();return(0,d.jsxs)("li",{className:m,children:[(0,d.jsx)("h4",{className:x,children:(0,d.jsx)("a",{href:C,rel:"noreferrer",target:"_blank",className:j,children:n})}),(0,d.jsxs)("div",{className:h,children:[(0,d.jsx)("div",{className:v,children:(0,d.jsx)("img",{src:u,alt:u,className:g})}),(0,d.jsxs)("div",{className:p,children:[(0,d.jsxs)("h4",{className:S?F:b,children:[" ",Z&&void 0!==Z[D]&&Z[D].isOpen?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{className:S?F:O,onClick:T,children:[(0,d.jsx)("span",{children:"Time: "}),"".concat(Z[D].from," : ").concat(Z[D].to)]}),A>=Z[D].from.split(":")[0]&&A<Z[D].to.split(":")[0]?(0,d.jsx)("span",{className:w,children:"is Opened now"}):(0,d.jsx)("p",{children:(0,d.jsx)("span",{className:y,children:"is Closed now"})})]}):(0,d.jsxs)("p",{className:N,children:[(0,d.jsx)("span",{children:"Time: "})," ----------------------------------"]}),S&&(0,d.jsx)(o,{onClose:T,daysList:["MN","TU","WE","TH","FR","SA","SU"],workdays:Z})]}),t?(0,d.jsxs)("p",{className:_,children:[(0,d.jsx)("span",{children:"Adress:"}),(0,d.jsx)("a",{href:s,rel:"noreferrer",target:"_blank",className:f,children:t})]}):(0,d.jsxs)("p",{className:N,children:["Adress: ",(0,d.jsx)("span",{children:"----------------------------------"})]}),c?(0,d.jsxs)("p",{className:_,children:[(0,d.jsx)("span",{children:" Email:"}),(0,d.jsx)("a",{href:"mailto:".concat(c),className:k,children:c})]}):(0,d.jsxs)("p",{className:N,children:["Email: ",(0,d.jsx)("span",{children:"----------------------------------"})]}),l?(0,d.jsxs)("p",{className:_,children:[(0,d.jsx)("span",{children:" Phone:"}),(0,d.jsx)("a",{href:"tel:".concat(l),className:k,children:l})]}):(0,d.jsxs)("p",{className:N,children:["Phone: ",(0,d.jsx)("span",{children:"----------------------------------"})]})]})]})]},r)},Z="OurFriendsList_list__HhRfY",C=function(){var e=(0,i.useState)(!1),r=(0,a.Z)(e,2),n=r[0],s=r[1],t=(0,i.useState)([]),u=(0,a.Z)(t,2),o=u[0],m=u[1],h=(0,i.useState)(""),p=(0,a.Z)(h,2),_=p[0],f=p[1];return(0,i.useEffect)((function(){s(!0),(0,l.Bn)().then(m).catch((function(e){return f(e.message)})).finally((function(){return s(!1)}))}),[]),console.log(o),(0,d.jsxs)(d.Fragment,{children:[n&&(0,d.jsx)(c.fe,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"}),_&&(0,d.jsx)("h1",{children:_}),(0,d.jsx)("ul",{className:Z,children:o.length>0&&o.map((function(e,r){var n=e.title,s=e.addressUrl,t=e.address,a=e.email,i=e.phone,c=e.url,l=e.workDays,u=e.imageUrl;return(0,d.jsx)(I,{id:r,adress:t,adressUrl:s,title:n,email:a,phone:i,image:u,workdays:l,url:c},r)}))})]})},E=function(){return(0,d.jsxs)("div",{className:s,children:[(0,d.jsx)("h3",{className:t,children:"Our friends"}),(0,d.jsx)(C,{})]})}},4724:function(e,r,n){n.d(r,{Bn:function(){return c},J$:function(){return u},dz:function(){return l}});var s=n(5861),t=n(4687),a=n.n(t),i=n(1243);i.Z.defaults.baseURL="https://backend.petly.club";var c=function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/servicesSidebar").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/notices/category?category=".concat(r));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("/userAndPets",{headers:{Authorization:"Bearer ".concat(r)}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=870.324d0832.chunk.js.map