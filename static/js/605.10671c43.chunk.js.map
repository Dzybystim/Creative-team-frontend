{"version":3,"file":"static/js/605.10671c43.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/News/News.module.css?fa32","components/News/NewsItem.jsx","components/News/NewsList.jsx","pages/News/News.jsx","utilities/helpers.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"News_container__PmJ-I\",\"title\":\"News_title__gprcR\",\"position\":\"News_position__Xt9zV\",\"newsList\":\"News_newsList__FZFHv\",\"item\":\"News_item__AOuEa\",\"titleList\":\"News_titleList__HYq5H\",\"dateAndLink\":\"News_dateAndLink__hqdLI\",\"dataNews\":\"News_dataNews__ReZjr\",\"linkNews\":\"News_linkNews__0i7ra\",\"notNewsFound\":\"News_notNewsFound__W-qPR\"};","import css from './News.module.css';\n\nexport const NewsItem = ({ url, title, description, date }) => {\n  return (\n    <li className={css.item}>\n      <h3 className={css.titleList}>{title}</h3>\n      <p className={css.dataNews}>{description}</p>\n      <div className={css.dateAndLink}>\n        <p className={css.dateNews}>{date}</p>\n        <a\n          href={url}\n          className={css.linkNews}\n          target=\"_blank\"\n          rel=\"noreferrer noopener\"\n        >\n          Read more\n        </a>\n      </div>\n    </li>\n  );\n};\n\nexport default NewsItem;\n","import React, { useEffect, useState } from 'react';\nimport { NewsItem } from './NewsItem';\nimport css from './News.module.css';\nimport { fetchNews } from 'utilities/helpers';\n\nexport const NewsList = () => {\n  const [loading, setLoading] = useState(false);\n  const [news, setNews] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchNews()\n      .then(setNews)\n      .catch(error => console.error(error.message))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const getVisibleNews = () => {\n    return news.filter(news => news.title.toLocaleLowerCase());\n  };\n\n  return (\n    <>\n      {loading ? (\n        <div className={css.notNewsFound}>\n          <h3 className={css.notNewsFoundText}>Waiting please...</h3>\n        </div>\n      ) : (\n        <ul className={css.newsList}>\n          {getVisibleNews().length === 0 ? (\n            <div className={css.notNewsFound}>\n              <h3 className={css.notNewsFoundText}>\n                Sorry, your search did not match any results.\n              </h3>\n            </div>\n          ) : (\n            getVisibleNews().map(({ _id, url, title, description, date }) => {\n              return (\n                <NewsItem\n                  key={_id}\n                  url={url}\n                  title={title}\n                  description={description}\n                  date={date}\n                />\n              );\n            })\n          )}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default NewsList;\n","// import FormSearchNews from 'components/News/NewsFormSearch';\nimport NewsList from 'components/News/NewsList';\n// import FormSearchNews from \"components/News/NewsFormSearch\";\n\nfunction NewsPage() {\n  return (\n    <div>\n      {/* <FormSearchNews /> */}\n      <NewsList />\n    </div>\n  );\n}\n\nexport default NewsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'http://backend.petly.club';\n\nexport const fetchOurFriends = async () => {\n  return await axios\n    .get(`/servicesSidebar`)\n    .then(response => response.data)\n    .catch(err => console.log(err));\n};\n\nexport const getNoticesByCategories = async category => {\n  try {\n    const response = await axios.get(`/notices/category?category=${category}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchNews = async () => {\n  return await axios\n    .get(`/news`)\n    .then(response => response.data)\n    .catch(err => console.error(err));\n};\n\nexport const fetchUserAndPets = async token => {\n  try {\n    const response = await axios.get(`/userAndPets`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const postImageToStorage = async img => {\n  try {\n    const response = await axios.post(`/uploadAvatar`, img);\n    console.log('response', response);\n    console.log('response.data', response.data);\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const passTokenToHeadersAxios = () => {\n  const setAuthHeader = token => {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    //   console.log('token', token)\n  };\n  const clearAuthHeader = () => {\n    axios.defaults.headers.common.Authorization = '';\n    //   console.log('clear')\n  };\n\n  const tokenFromLocalStorage = localStorage.getItem('persist:users');\n  if (tokenFromLocalStorage !== null) {\n    const tokenParse = JSON.parse(tokenFromLocalStorage).token;\n    const token = tokenParse.slice(1, tokenParse.length - 1);\n    setAuthHeader(token);\n  } else {\n    clearAuthHeader();\n  }\n};\n\nexport const getNoticesByTitle = async title => {\n  try {\n    const response = await axios.get(`/notices/title?title=${title}`);\n    return response.data;\n  } catch (error) {\n    console.error('error', error);\n  }\n};\n\nexport const userEdit = async fieldData => {\n  try {\n    const response = await axios.patch(`/users/edit`, fieldData);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getAllSelectedNotices = async () => {\n  try {\n    const response = await axios.get(`/notices/selected/`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const addToSelectedNotices = async noticeId => {\n  try {\n    const response = await axios.post(`/notices/selected/${noticeId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const deleteFromSelectedNotices = async noticeId => {\n  try {\n    const response = await axios.delete(`/notices/selected/${noticeId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getNoticesById = async noticeId => {\n  try {\n    const response = await axios.get(`/notices/${noticeId}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getAllOwnNotices = async () => {\n  try {\n    const response = await axios.get(`/notices/user`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n"],"names":["NewsItem","url","title","description","date","className","css","href","target","rel","useState","loading","setLoading","news","setNews","useEffect","fetchNews","then","catch","error","console","message","finally","getVisibleNews","filter","toLocaleLowerCase","length","map","_id","axios","fetchOurFriends","response","data","err","log","getNoticesByCategories","category","fetchUserAndPets","token","headers","Authorization","postImageToStorage","img","passTokenToHeadersAxios","tokenFromLocalStorage","localStorage","getItem","tokenParse","JSON","parse","setAuthHeader","slice","userEdit","fieldData","getAllSelectedNotices","getNoticesById","noticeId"],"sourceRoot":""}